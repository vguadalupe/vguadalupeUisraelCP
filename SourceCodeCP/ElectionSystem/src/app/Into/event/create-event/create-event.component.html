<app-loading *ngIf="loading"></app-loading>

<div [ngClass]="loading ? 'opacity-loader' : ' '">
  <section>
    <div class="row">
      <div class="col-12">
        <div class="card mb-4 mx-4">
          <div class="card-body pt-0 pb-2">
            <div class="container py-4">
              <div class="row">
                <div class="col-md-6">
                  <form
                    role="form"
                    (ngSubmit)="createEvent()"
                    method="post"
                    autocomplete="off"
                  >
                    <div class="card-body">
                      <div class="row">
                        <div class="col-md">
                          <label>Nombre del Evento</label>
                          <div class="input-group mb-4">
                            <input
                              class="form-control"
                              aria-label="First Name..."
                              type="text"
                              [(ngModel)]="eventCreateRequest.name"
                              #name="ngModel"
                              name="name"
                              minlength="4" maxlength="55" required/>
                          </div>
                          <div class="error-field" *ngIf="name.touched && !name.valid">
                            <div class="error-field" *ngIf="name.errors">Ingrese un Nombre válido</div>
                          </div>
                        </div>
                      </div>
                      <div class="form-group mb-4">
                        <label>Descripción del evento</label>
                        <textarea
                          [(ngModel)]="eventCreateRequest.description"
                          name="descripcion"
                          class="form-control"
                          id="message"></textarea>
                          
                      </div>
                      <div class="mb-4">
                        <div class="row">
                          <div class="col-md">
                            <label>Participantes Máximos</label>
                            <div class="form-check form-switch mb-4">
                              <input
                                [(ngModel)]="eventCreateRequest.maxPeople"
                                 name="maxPeople"
                                class="form-check-input"
                                type="checkbox"
                                id="flexSwitchCheckDefault"
                                checked=""  
                              />
                              
                            </div>
                          </div>
                          <div class="col-md">
                            <label>Cantidad de participantes</label>
                            <div class="input-group">
                              <input
                                [(ngModel)]="eventCreateRequest.numberMaxPeople"
                                #numberMaxPeople="ngModel"
                                name="numberMaxPeople"
                                type="number"
                                class="form-control"
                                placeholder=""
                                min="2"
                                max="99999"
                              />
                            </div>
                            <div class="error-field" *ngIf="numberMaxPeople.touched && !numberMaxPeople.valid">
                              <div class="error-field" *ngIf="numberMaxPeople.errors">Ingrese un número válido</div>
                            </div>
                          </div>
                          <div class="col-md">
                            <label>Cantidad de Cantidados</label>
                            <div class="input-group">
                              <input
                                [(ngModel)]="eventCreateRequest.numberMaxCandidate"
                                #numberMaxCandidate="ngModel"
                                name="numberMaxCandidate"
                                type="number"
                                class="form-control"
                                placeholder=""
                                min="2"
                                max="99999"
                              />
                            </div>
                            <div class="error-field" *ngIf="numberMaxCandidate.touched && !numberMaxCandidate.valid">
                              <div class="error-field" *ngIf="numberMaxCandidate.errors">Ingrese un número válido</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="mb-4">
                        <div class="row">
                          <div class="col-md">
                            <label>Fecha Max. Registro Participantes</label>
                            <div class="input-group">
                              <input
                                [(ngModel)]="eventCreateRequest.dateMaxRegisterParticipants"
                                #dateMaxRegisterParticipants="ngModel"
                                name="dateMaxRegisterParticipants"
                                type="date"
                                class="form-control"
                                placeholder=""
                                min="today()"
                              />
                            </div>
                            <div class="error-field" *ngIf="dateMaxRegisterParticipants.touched && !dateMaxRegisterParticipants.valid"> 
                              <div class="error-field" *ngIf="dateMaxRegisterParticipants.errors">Ingrese un número válido</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="mb-4">
                        <div class="row"></div>
                      </div>
                      <div class="row">
                        <div class="col-md-12"></div>
                        <div class="col-md-12">
                          <button
                            type="submit"
                            class="btn bg-gradient-dark w-100"
                          >
                            Guardar Evento
                          </button>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
                <div class="col-md-6">
                  <div>
                    
                         <img src="/assets/img/event-icon.png" class="m-auto">  
                 </div> 
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
